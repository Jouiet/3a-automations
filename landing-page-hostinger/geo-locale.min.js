!function(){"use strict";const e={locales:{MA:{lang:"fr",currency:"MAD",region:"maghreb"},DZ:{lang:"fr",currency:"MAD",region:"maghreb"},TN:{lang:"fr",currency:"MAD",region:"maghreb"},FR:{lang:"fr",currency:"EUR",region:"europe"},BE:{lang:"fr",currency:"EUR",region:"europe"},CH:{lang:"fr",currency:"EUR",region:"europe"},LU:{lang:"fr",currency:"EUR",region:"europe"},MC:{lang:"fr",currency:"EUR",region:"europe"},DE:{lang:"fr",currency:"EUR",region:"europe"},AT:{lang:"fr",currency:"EUR",region:"europe"},IT:{lang:"fr",currency:"EUR",region:"europe"},ES:{lang:"fr",currency:"EUR",region:"europe"},PT:{lang:"fr",currency:"EUR",region:"europe"},NL:{lang:"fr",currency:"EUR",region:"europe"},IE:{lang:"fr",currency:"EUR",region:"europe"},FI:{lang:"fr",currency:"EUR",region:"europe"},GR:{lang:"fr",currency:"EUR",region:"europe"},MT:{lang:"fr",currency:"EUR",region:"europe"},CY:{lang:"fr",currency:"EUR",region:"europe"},SK:{lang:"fr",currency:"EUR",region:"europe"},SI:{lang:"fr",currency:"EUR",region:"europe"},EE:{lang:"fr",currency:"EUR",region:"europe"},LV:{lang:"fr",currency:"EUR",region:"europe"},LT:{lang:"fr",currency:"EUR",region:"europe"},HR:{lang:"fr",currency:"EUR",region:"europe"},PL:{lang:"fr",currency:"EUR",region:"europe"},CZ:{lang:"fr",currency:"EUR",region:"europe"},HU:{lang:"fr",currency:"EUR",region:"europe"},RO:{lang:"fr",currency:"EUR",region:"europe"},BG:{lang:"fr",currency:"EUR",region:"europe"},SE:{lang:"fr",currency:"EUR",region:"europe"},DK:{lang:"fr",currency:"EUR",region:"europe"},NO:{lang:"fr",currency:"EUR",region:"europe"},GB:{lang:"en",currency:"USD",region:"international"},CA:{lang:"fr",currency:"USD",region:"international"},US:{lang:"en",currency:"USD",region:"international"}},defaultLocale:{lang:"en",currency:"USD",region:"international"},storageKey:"3a-locale",async detectCountry(){try{const e=new AbortController,r=setTimeout((()=>e.abort()),3e3),n=await fetch("https://ipapi.co/json/",{signal:e.signal});if(clearTimeout(r),n.ok){return(await n.json()).country_code||null}}catch(e){}return null},getLocale(e){return this.locales[e]||this.defaultLocale},getSavedLocale(){try{const e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):null}catch(e){return null}},saveLocale(e){try{localStorage.setItem(this.storageKey,JSON.stringify(e))}catch(e){}},setCurrency(e){const r=this.getSavedLocale()||this.defaultLocale;r.currency=e,r.source="manual",this.saveLocale(r),document.documentElement.setAttribute("data-currency",e),document.dispatchEvent(new CustomEvent("currency-changed",{detail:{currency:e}}))},async init(){const e=this.getSavedLocale();if(e)return e;const r=await this.detectCountry();if(r){const e={...this.getLocale(r)};return e.country=r,e.source="geo",this.saveLocale(e),e}return"fr"===(navigator.language?.substring(0,2)||"en")?{lang:"fr",currency:"EUR",region:"europe",source:"browser"}:{...this.defaultLocale,source:"default"}},shouldShowEnglish:e=>"en"===e.lang||"international"===e.region,redirectIfNeeded(e,r){this.shouldShowEnglish(e)&&!window.location.pathname.includes("/en/")&&(window.location.href=r)}};window.GeoLocale=e,document.currentScript?.hasAttribute("data-defer")||e.init().then((e=>{document.documentElement.setAttribute("data-locale",JSON.stringify(e)),document.documentElement.setAttribute("data-currency",e.currency),document.dispatchEvent(new CustomEvent("geo-locale-ready",{detail:e}))}))}();